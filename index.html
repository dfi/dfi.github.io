<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>TempCode</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="TempCode">
<meta property="og:url" content="http://tempcode.space/index.html">
<meta property="og:site_name" content="TempCode">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TempCode">
  
    <link rel="alternate" href="/atom.xml" title="TempCode" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-90009334-1', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">TempCode</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tempcode.space"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-start-developing-ios-apps-swift-notes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/start-developing-ios-apps-swift-notes/" class="article-date">
  <time datetime="2017-01-13T14:32:14.000Z" itemprop="datePublished">2017-01-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/start-developing-ios-apps-swift-notes/">Start Developing iOS Apps (Swift) Notes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ul>
<li><p><strong>Option-click</strong> the Update Frames button to update only the selected view.</p>
</li>
<li><p>Any object can serve as a <strong>delegate</strong> for another object as long as it conforms to the appropriate <strong>protocol</strong>.</p>
</li>
<li><p>Many of the events generated by the user are initially routed to the <strong>first responder</strong>.</p>
</li>
<li><p>iOS calls the <strong>UIViewController</strong> methods as follows:<br>  A view’s <strong>intrinsic content size</strong> is the preferred size for the view based on its content. An empty image view doesn’t have an intrinsic content size. As soon as you add an image to a view, its intrinsic content size is set to the image’s size. Providing a <strong>placeholder size</strong> gives the image a temporary intrinsic content size that you can use while designing your user interface. This value is only used while designing your interface in Interface Builder; at runtime, the layout engine uses the view’s actual intrinsic content size instead.</p>
</li>
<li><p>The view controller’s <strong>outlets</strong> are guaranteed to have valid values by the time <code>viewDidLoad()</code> is called.</p>
</li>
<li><p>Typically, iOS calls <code>viewDidLoad()</code> only once, when its content view is first created; however, the content view is not necessarily created when the controller is first instantiated. Instead, it is <strong>lazily</strong> created the first time the system or any code accesses the controller’s view property.</p>
</li>
<li><p><code>viewWillAppear()</code>—Called just before the view controller’s content view is added to the app’s view hierarchy. Use this method to trigger any operations that need to occur before the content view is presented onscreen. Despite the name, just because the system calls this method, it does not guarantee that the content view will become visible. The view may be obscured by other views or hidden. This method simply indicates that the content view is about to be added to the app’s view hierarchy.</p>
</li>
<li><p><code>viewDidAppear()</code>—Called just after the view controller’s content view has been added to the app’s view hierarchy. Use this method to trigger any operations that need to occur as soon as the view is presented onscreen, such as fetching data or showing an animation. Despite the name, just because the system calls this method, it does not guarantee that the content view is visible. The view may be obscured by other views or hidden. This method simply indicates that the content view has been added to the app’s view hierarchy.</p>
</li>
<li><p><strong><em>One of the two will be used. Which one is undefined.</em></strong></p>
</li>
<li><p>To add images to iOS Simulator: drag and drop the images into the simulator.</p>
</li>
<li><p><code>init(frame:)</code> for programatically initializing the view and <code>init?(coder:)</code> for loading the view from the storyboard.<br>  You will need to implement <strong>both</strong> of these methods in your custom control.(?)</p>
</li>
<li><p>Swift handles <strong>initializers</strong> differently than other methods. If you don’t provide any initializers, Swift classes automatically inherit all of their super class’s designated initializers. If you implement any initializers, you not longer inherit any of the superclasses initializers; however, the superclass can mark one or more of its initializers as required. The subclass must implement (or automatically inherit) all of the required initializers. Furthermore, the subclass must mark their initializers as required, indicating that their subclasses must also implement the initializers.</p>
</li>
<li><p>When you programmatically instantiate a view, its <code>translatesAutoresizingMaskIntoConstraints</code> property defaults to <code>true</code>. This tells the layout engine to create constraints that define the view’s size and position based on the view’s frame and autoresizingmask properties. When you add a view to a stack view, the stack view automatically sets the view’s <code>translatesAutoresizingMaskIntoConstraints</code> property to <code>false</code>. However, when using Auto Layout, it’s a good habit to explicitly disable the autogenerated constraints whenever you programmatically create a view. That way you won’t accidentally forget to disable them when it actually matters.</p>
</li>
<li><p>Properties is <strong>internal</strong> accessable by default, you can access them from any other class <strong>inside the app</strong>.</p>
</li>
<li><p>Add the <code>@IBInspectable</code> attribute to the desired properties. Interface Builder supports the inspection of basic types (and their corresponding optionals), including: <strong>Booleans</strong>, <strong>numbers</strong>, <strong>strings</strong>, as well as <code>CGRect</code>, <code>CGSize</code>, <code>CGPoint</code>, and <code>UIColor</code>.</p>
</li>
<li><p>If you switch to the Main.storyboard and select the RatingControl, you’ll see the Star Size and Star Count settings in the Attributes inspector. The <strong>dashes</strong> indicate that the control is currently using the default values (in this case 44.0 points and 5 stars). However, changing these values <strong>does not</strong> yet change the control.</p>
</li>
<li><p>To remove a childView from the list of views managed by a <strong>stack view</strong>, use <code>removeArrangedSubview(button)</code> to tell the stack view that it should no longer calculate the childView’s size and position, then call <code>childView.removeFromSuperview()</code> to remove the childView entirely.</p>
</li>
<li><p>The <strong>assets catalog</strong> is located in the app’s <strong>main bundle</strong>. This means that the app can load the images using the shorter <code>UIImage(named:)</code>method. However, because the control is <code>@IBDesignable</code>, the setup code also needs to run in Interface Builder. For the images to load properly in Interface Builder, you must explicitly specify the catalog’s bundle. This ensures that the system can find and load the image.</p>
</li>
<li><p><strong>Buttons</strong> always start in the <strong>normal</strong> state (not highlighted, selected, focused, or disabled).</p>
</li>
<li><p>A button is <strong>highlighted</strong> whenever the user touches it. You can also programmatically set a button to be <strong>selected</strong> or <strong>disabled</strong>. The <strong>focused</strong> state is used by focus-based interfaces, like Apple TV.</p>
</li>
<li><p>Button’s <strong>default(normal state)</strong> image will be used for state(s) doesn’t have an image.</p>
</li>
<li><p>Importing <code>UIKit</code> also gives you access to <code>Foundation</code></p>
</li>
<li><p><strong>Failable initializers</strong> are harder to use because you need to unwrap the returned optional before using it. Some developers prefer to enforce an initializer’s contract using <code>assert()</code> or <code>precondition()</code> methods. These methods cause the app to terminate if the condition they are testing fails. This means that the calling code must validate the inputs before calling the initializer. For information on adding inline sanity checks and preconditions to your code, see <code>assert(_:_:file:line:)</code> and <code>precondition(_:_:file:line:)</code>.</p>
</li>
<li><p><strong>Unit tests</strong> are used for testing small, self-contained pieces of code to make sure they behave correctly.</p>
</li>
<li><p>Note that the code uses the <code>@testable</code> attribute when importing your app. This gives your tests access to the internal elements of your app’s code. Remember, Swift defaults to <strong>internal</strong> access control for all the types, variables, properties, initializers, and functions in your code. If you haven’t explicitly marked an item as file private or private, you can access it from your tests.</p>
</li>
<li><p>A <strong>guard</strong> statement declares a condition that must be true in order for the code after the guard statement to be executed. If the condition is false, the guard statement’s else branch <strong>must exit</strong> the current code block (for example, by calling <code>return</code>, <code>break</code>, <code>continue</code>, <code>throw</code>, or a method that doesn’t return like <code>fatalError(_:file:line:)</code>).</p>
</li>
<li><p>If no cells are available, <code>dequeueReusableCell(withIdentifier:for:)</code> <strong>instantiates</strong> a new one; however, as cells scroll off the scene, they are reused.</p>
</li>
<li><p>The set of view controllers managed by a particular navigation controller is called its <strong>navigation stack</strong>. The first item added to the stack becomes the root view controller and is <strong>never</strong> popped off (removed from) the navigation stack.</p>
</li>
<li><p>The storyboard entry point is set to the navigation controller because the navigation controller is now a <strong>container</strong> for the table view controller.</p>
</li>
<li><p>An <strong>identity operator</strong> <code>===</code> tests whether two object references both refer to the same object instance.</p>
</li>
<li><p><strong>Debug messages</strong> contain information that may be useful during debugging or when troubleshooting specific problems. They are intended for debugging environments, and <strong>do not appear</strong> in a shipping app.</p>
</li>
<li><p>A <strong>nil coalescing operator</strong> <code>??</code> placed between two values <code>a</code> and <code>b</code>, like <code>a ?? b</code>, unwraps an optional <code>a</code> if it contains a value, or returns a default value <code>b</code> if <code>a</code> is <code>nil</code>.</p>
</li>
<li><p>Use <code>switch</code> statements instead of <code>if</code> statements when selecting between <strong>multiple</strong> options.</p>
</li>
<li><p>Different presentation styles have different uses. Present scenes <strong>modally</strong> when they represent a task that the user must either complete or cancel before continuing (for example, adding a new meal). Present scenes using a <strong>navigation controller</strong> when the user is navigating through hierarchical data (for example, selecting a meal from a list of meals).</p>
</li>
<li><p>EXPLORE FURTHER</p>
<p>  When in editing mode, the rating control extends over the delete button. This is because the cell’s layout was not designed using Auto Layout. The controls fit in the normal allotted space, but the control doesn’t adapt when the space is reduced.</p>
<p>  To fix this, you need to lay out the cell using nested stack views and Auto Layout constraints; however, that is left as an exercise for the reader.</p>
</li>
<li><p>To make it clear which coding key corresponds to each piece of data, create a <strong>structure</strong> to store the key strings.</p>
</li>
<li><p>The <code>static</code> keyword indicates that these constants belong to the structure itself, not to instances of the structure.</p>
</li>
<li><p>To conform to <code>NSCoding</code>, you need to subclass <code>NSObject</code>.</p>
</li>
<li><p>Now that Meal is a subclass of <code>NSObject</code>, the Meal class’s initializer must call one of the <code>NSObject</code> class’s designated initializers. Because the <code>NSObject</code> class’s only initializer is <code>init()</code>, the Swift compiler adds the call for you <strong>automatically</strong>, so you don’t need to change your code; however, feel free to add a call to <code>super.init()</code>, if you wish.</p>
</li>
<li><p>A <strong>required</strong> initializer must be implemented on every subclass, if the subclass defines its own initializers.</p>
</li>
<li><p>A <strong>convenience</strong> initializer is a secondary initializer, and must call a designated initializer from the same class.</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tempcode.space/start-developing-ios-apps-swift-notes/" data-id="cixvy20z500023bt4oyke2i89" class="article-share-link">Share</a>
      
        <a href="http://tempcode.space/start-developing-ios-apps-swift-notes/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-what-methods-are-called-when-the-app-state-transitions-occur" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/what-methods-are-called-when-the-app-state-transitions-occur/" class="article-date">
  <time datetime="2017-01-10T12:59:17.000Z" itemprop="datePublished">2017-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/what-methods-are-called-when-the-app-state-transitions-occur/">What Methods are Called when the APP State Transitions Occur</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h5 id="启动："><a href="#启动：" class="headerlink" title="启动："></a>启动：</h5><pre><code>application(_:didFinishLaunchingWithOptions:)
applicationDidBecomeActive
</code></pre><hr>
<h5 id="按下-Home-键、锁屏："><a href="#按下-Home-键、锁屏：" class="headerlink" title="按下 Home 键、锁屏："></a>按下 Home 键、锁屏：</h5><pre><code>applicationWillResignActive
applicationDidEnterBackground
</code></pre><hr>
<h5 id="再次从桌面打开、解锁屏幕回到应用："><a href="#再次从桌面打开、解锁屏幕回到应用：" class="headerlink" title="再次从桌面打开、解锁屏幕回到应用："></a>再次从桌面打开、解锁屏幕回到应用：</h5><pre><code>applicationWillEnterForeground
applicationDidBecomeActive
</code></pre><hr>
<h5 id="运行中打开、关闭通知中心或控制中心："><a href="#运行中打开、关闭通知中心或控制中心：" class="headerlink" title="运行中打开、关闭通知中心或控制中心："></a>运行中打开、关闭通知中心或控制中心：</h5><pre><code>applicationWillResignActive
applicationDidBecomeActive
</code></pre><hr>
<h5 id="连按-Home-键两次："><a href="#连按-Home-键两次：" class="headerlink" title="连按 Home 键两次："></a>连按 Home 键两次：</h5><pre><code>applicationWillResignActive
</code></pre><hr>
<h5 id="上滑终止："><a href="#上滑终止：" class="headerlink" title="上滑终止："></a>上滑终止：</h5><pre><code>applicationDidEnterBackground
applicationWillTerminate
</code></pre><hr>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://developer.apple.com/library/content/documentation/iPhone/Conceptual/iPhoneOSProgrammingGuide/TheAppLifeCycle/TheAppLifeCycle.html" target="_blank" rel="external">The App Life Cycle</a></li>
<li><a href="https://developer.apple.com/reference/uikit/uiapplicationdelegate" target="_blank" rel="external">UIApplicationDelegate</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tempcode.space/what-methods-are-called-when-the-app-state-transitions-occur/" data-id="cixvy20z800033bt47mexp8u0" class="article-share-link">Share</a>
      
        <a href="http://tempcode.space/what-methods-are-called-when-the-app-state-transitions-occur/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-response-to-brute-force-attack" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/response-to-brute-force-attack/" class="article-date">
  <time datetime="2017-01-10T09:26:03.000Z" itemprop="datePublished">2017-01-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/response-to-brute-force-attack/">Response to Brute Force Attack</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="1-Check-logs"><a href="#1-Check-logs" class="headerlink" title="1. Check logs"></a>1. Check logs</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cat /var/log/secure | awk &apos;/Failed/&#123;print $(NF-3)&#125;&apos; | sort | uniq -c | awk &apos;&#123;print $2&quot; = &quot;$1;&#125;&apos;</div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tail -f /var/log/secure</div></pre></td></tr></table></figure>
<p><code>/var/log/secure</code> on Redhat, <code>/var/log/auth.log</code> on Mandrake, etc…</p>
<hr>
<h2 id="2-Edit-SSH-configuration-file"><a href="#2-Edit-SSH-configuration-file" class="headerlink" title="2. Edit SSH configuration file"></a>2. Edit SSH configuration file</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /etc/ssh/sshd_config</div></pre></td></tr></table></figure>
<p>Example</p>
<pre><code>Port XXXXX # other than 22
PermitRootLogin without-password # better to disable root login
MaxAuthTries 6
PasswordAuthentication no
ChallengeResponseAuthentication no
</code></pre><p>Reload SSH</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">service sshd reload</div></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">systemctl reload sshd</div></pre></td></tr></table></figure>
<hr>
<h2 id="3-Use-tools-to-thwart-these-attacks"><a href="#3-Use-tools-to-thwart-these-attacks" class="headerlink" title="3. Use tools to thwart these attacks"></a>3. Use tools to thwart these attacks</h2><ul>
<li><a href="http://www.fail2ban.org/wiki/index.php/Main_Page" target="_blank" rel="external">Fail2ban</a></li>
<li><a href="http://denyhosts.sourceforge.net/" target="_blank" rel="external">DenyHosts</a></li>
</ul>
<hr>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ul>
<li><a href="https://wiki.centos.org/HowTos/Network/SecuringSSH" target="_blank" rel="external">Securing OpenSSH</a></li>
<li><a href="https://www.ibm.com/developerworks/aix/library/au-sshlocks/" target="_blank" rel="external">Three locks for your SSH door</a></li>
<li><a href="http://tshare365.com/archives/2480.html" target="_blank" rel="external">Linux下检测SSH暴力破解攻击与防护功能</a></li>
<li><a href="http://www.sijitao.net/ssh_attack" target="_blank" rel="external">发起SSH攻击IP地址</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-centos-7" target="_blank" rel="external">Initial Server Setup with CentOS 7</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/additional-recommended-steps-for-new-centos-7-servers" target="_blank" rel="external">Additional Recommended Steps for New CentOS 7 Servers</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/7-security-measures-to-protect-your-servers" target="_blank" rel="external">7 Security Measures to Protect Your Servers</a></li>
<li><a href="https://blog.tankywoo.com/linux/2013/09/14/ssh-passwordauthentication-vs-challengeresponseauthentication.html" target="_blank" rel="external">SSH PasswordAuthentication vs ChallengeResponseAuthentication</a></li>
<li><a href="http://www.hcsw.org/reading/chalresp.txt" target="_blank" rel="external">Challenge-Response Authentication for Dummys</a></li>
<li><a href="https://github.com/dev-sec/chef-ssh-hardening/issues/96" target="_blank" rel="external">UsePAM should probably default to yes on Red Hat Linux 7</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tempcode.space/response-to-brute-force-attack/" data-id="cixvy20z000013bt4rdrtmi6q" class="article-share-link">Share</a>
      
        <a href="http://tempcode.space/response-to-brute-force-attack/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-install-letsencrypt-ssl-certificate-on-a-godaddy-host" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/install-letsencrypt-ssl-certificate-on-a-godaddy-host/" class="article-date">
  <time datetime="2017-01-06T08:25:26.000Z" itemprop="datePublished">2017-01-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/install-letsencrypt-ssl-certificate-on-a-godaddy-host/">Install Let&#39;s Encrypt SSL certificate on a Godaddy host</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<h2 id="1-获取证书"><a href="#1-获取证书" class="headerlink" title="1. 获取证书"></a>1. 获取证书</h2><p>参照 <a href="https://github.com/diafygi/letsencrypt-nosudo" target="_blank" rel="external">Let’s Encrypt Without Sudo</a></p>
<p>加 -f 避免无法获取服务器 root 权限问题：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python sign_csr.py -f --public-key user.pub domain.csr &gt; signed.crt</div></pre></td></tr></table></figure>
<hr>
<h2 id="2-安装证书"><a href="#2-安装证书" class="headerlink" title="2. 安装证书"></a>2. 安装证书</h2><ol>
<li><p>上传 domain.key 至 Private Keys (KEY)。</p>
</li>
<li><p>上传 signed.crt 至 Certificates (CRT)。</p>
</li>
<li><p>在 Install and Manage SSL for your site (HTTPS) 里配置。</p>
</li>
</ol>
<hr>
<h2 id="3-http-gt-https"><a href="#3-http-gt-https" class="headerlink" title="3. http -&gt; https"></a>3. http -&gt; https</h2><p>参照 <a href="https://sg.godaddy.com/zh/help/redirect-http-to-https-automatically-8828" target="_blank" rel="external">Redirect HTTP to HTTPS automatically</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">RewriteEngine On</div><div class="line">RewriteCond %&#123;HTTPS&#125; off</div><div class="line">RewriteRule ^(.*)$ https://%&#123;HTTP_HOST&#125;%&#123;REQUEST_URI&#125; [L,R=301]</div></pre></td></tr></table></figure>
<hr>
<h2 id="4-更新证书"><a href="#4-更新证书" class="headerlink" title="4. 更新证书"></a>4. 更新证书</h2><p>再次用这一步：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python sign_csr.py -f --public-key user.pub domain.csr &gt; signed_NEWER_DATE.crt</div></pre></td></tr></table></figure>
<hr>
<h3 id="附一次完整的获取证书步骤："><a href="#附一次完整的获取证书步骤：" class="headerlink" title="附一次完整的获取证书步骤："></a>附一次完整的获取证书步骤：</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div></pre></td><td class="code"><pre><div class="line">v@debian:~$ ls</div><div class="line">sign_csr.py</div><div class="line">v@debian:~$ openssl genrsa 4096 &gt; user.key</div><div class="line">Generating RSA private key, 4096 bit long modulus</div><div class="line">.........++</div><div class="line">.........++</div><div class="line">e is 65537 (0x10001)</div><div class="line">v@debian:~$ openssl rsa -in user.key -pubout &gt; user.pub</div><div class="line">writing RSA key</div><div class="line">v@debian:~$ openssl genrsa 4096 &gt; domain.key</div><div class="line">Generating RSA private key, 4096 bit long modulus</div><div class="line">.........++</div><div class="line">.........++</div><div class="line">e is 65537 (0x10001)</div><div class="line">v@debian:~$ openssl req -new -sha256 -key domain.key -subj &quot;/&quot; -reqexts SAN -config &lt;(cat /etc/ssl/openssl.cnf &lt;(printf &quot;[SAN]\nsubjectAltName=DNS:tempcode.space,DNS:www.tempcode.space&quot;)) &gt; domain.csr</div><div class="line">v@debian:~$ python sign_csr.py -f --public-key user.pub domain.csr &gt; signed.crt</div><div class="line">Reading pubkey file...</div><div class="line">Found public key!</div><div class="line">Reading csr file...</div><div class="line">Found domains www.tempcode.space, tempcode.space</div><div class="line">STEP 1: What is your contact email? (webmaster@tempcode.space) USERNAME@tempcode.space</div><div class="line">Building request payloads...</div><div class="line">Building request for www.tempcode.space...</div><div class="line">Building request for tempcode.space...</div><div class="line">Building request for CSR...</div><div class="line">STEP 2: You need to sign some files (replace &apos;user.key&apos; with your user private key).</div><div class="line"></div><div class="line">openssl dgst -sha256 -sign user.key -out register_XXXXXX.sig register_XXXXXX.json</div><div class="line">openssl dgst -sha256 -sign user.key -out domain_XXXXXX.sig domain_XXXXXX.json</div><div class="line">openssl dgst -sha256 -sign user.key -out domain_XXXXXX.sig domain_XXXXXX.json</div><div class="line">openssl dgst -sha256 -sign user.key -out cert_XXXXXX.sig cert_XXXXXX.json</div><div class="line"></div><div class="line">Press Enter when you&apos;ve run the above commands in a new terminal window...</div><div class="line">Registering USERNAME@tempcode.space...</div><div class="line">Requesting challenges for www.tempcode.space...</div><div class="line">Building challenge responses for www.tempcode.space...</div><div class="line">Requesting challenges for tempcode.space...</div><div class="line">Building challenge responses for tempcode.space...</div><div class="line">STEP 3: You need to sign some more files (replace &apos;user.key&apos; with your user private key).</div><div class="line"></div><div class="line">openssl dgst -sha256 -sign user.key -out challenge_XXXXXX.sig challenge_XXXXXX.json</div><div class="line">openssl dgst -sha256 -sign user.key -out challenge_XXXXXX.sig challenge_XXXXXX.json</div><div class="line"></div><div class="line">Press Enter when you&apos;ve run the above commands in a new terminal window...</div><div class="line">STEP 4: Please update your server to serve the following file at this URL:</div><div class="line"></div><div class="line">--------------</div><div class="line">URL: http://www.tempcode.space/.well-known/acme-challenge/XXXXXXXXXXXXXXXX</div><div class="line">File contents: &quot;XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXX&quot;</div><div class="line">--------------</div><div class="line"></div><div class="line">Notes:</div><div class="line">- Do not include the quotes in the file.</div><div class="line">- The file should be one line without any spaces.</div><div class="line"></div><div class="line">Press Enter when you&apos;ve got the file hosted on your server...</div><div class="line">Requesting verification for www.tempcode.space...</div><div class="line">Waiting for www.tempcode.space challenge to pass...</div><div class="line">Passed www.tempcode.space challenge!</div><div class="line">STEP 5: Please update your server to serve the following file at this URL:</div><div class="line"></div><div class="line">--------------</div><div class="line">URL: http://tempcode.space/.well-known/acme-challenge/XXXXXXXXXXXXXXXX</div><div class="line">File contents: “XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXX”</div><div class="line">--------------</div><div class="line"></div><div class="line">Notes:</div><div class="line">- Do not include the quotes in the file.</div><div class="line">- The file should be one line without any spaces.</div><div class="line"></div><div class="line">Press Enter when you&apos;ve got the file hosted on your server...</div><div class="line">Requesting verification for tempcode.space...</div><div class="line">Waiting for tempcode.space challenge to pass...</div><div class="line">Passed tempcode.space challenge!</div><div class="line">Requesting signature...</div><div class="line">Certificate signed!</div><div class="line">You can remove the acme-challenge file from your webserver now.</div><div class="line">v@debian:~$</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tempcode.space/install-letsencrypt-ssl-certificate-on-a-godaddy-host/" data-id="cixvy20yt00003bt4xlkdgay2" class="article-share-link">Share</a>
      
        <a href="http://tempcode.space/install-letsencrypt-ssl-certificate-on-a-godaddy-host/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/start-developing-ios-apps-swift-notes/">Start Developing iOS Apps (Swift) Notes</a>
          </li>
        
          <li>
            <a href="/what-methods-are-called-when-the-app-state-transitions-occur/">What Methods are Called when the APP State Transitions Occur</a>
          </li>
        
          <li>
            <a href="/response-to-brute-force-attack/">Response to Brute Force Attack</a>
          </li>
        
          <li>
            <a href="/install-letsencrypt-ssl-certificate-on-a-godaddy-host/">Install Let&#39;s Encrypt SSL certificate on a Godaddy host</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Y<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'aname';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>